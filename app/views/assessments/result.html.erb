<div class="max-w-2xl mx-auto mt-16 bg-white rounded-3xl shadow-2xl p-10 border border-gray-100 space-y-8 animate-fadeIn">

  <!-- Title -->
  <div class="text-center space-y-2">
    <h1 class="text-4xl font-extrabold tracking-tight flex justify-center items-center gap-3">
      <i class="lucide lucide-award text-yellow-500"></i>
      Test Result
    </h1>

    <p class="text-gray-600 text-lg">
      Your Score:
      <span class="font-bold text-blue-600 text-2xl">
        <%= @score %> / <%= @assessment.total_questions %>
      </span>
    </p>
  </div>

  <% if @passed %>
    <!-- PASSED CARD -->
    <div class="bg-green-50 border border-green-200 p-6 rounded-2xl text-center shadow">
      <h2 class="text-2xl font-semibold text-green-700 flex justify-center items-center gap-2">
        <i class="lucide lucide-check-circle text-green-600"></i>
        Congratulations â€” You Passed!
      </h2>

      <% if @assessment.candidate.resume.attached? %>
        <p class="mt-4 text-gray-700 flex items-center justify-center gap-2">
          <i class="lucide lucide-file-check text-blue-600"></i>
          Resume already uploaded.
        </p>
      <% else %>
        <div class="mt-6">
          <%= form_with url: resume_upload_path, local: true, multipart: true, html: { class: "space-y-4" } do %>

            <div class="flex flex-col items-center">
              <label class="w-full p-4 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:bg-gray-50 transition flex flex-col items-center gap-2">
                <i class="lucide lucide-upload text-blue-600 text-3xl"></i>
                <span class="text-gray-600">Click to select your resume</span>
                <%= file_field_tag :resume, class: "hidden" %>
              </label>
            </div>

            <div class="text-center">
              <%= submit_tag "Upload Resume",
                class: "px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 shadow-lg" %>
            </div>

          <% end %>
        </div>
      <% end %>

      <% if notice %>
        <p class="text-blue-600 font-medium mt-4"><%= notice %></p>
      <% end %>
    </div>

  <% else %>
    <!-- FAILED CARD -->
    <div class="bg-red-50 border border-red-200 p-6 rounded-2xl text-center shadow">
      <h2 class="text-2xl font-semibold text-red-700 flex justify-center items-center gap-2">
        <i class="lucide lucide-x-circle text-red-600"></i>
        Sorry  You Did Not Pass
      </h2>
      <p class="mt-3 text-gray-700">Please try again later.</p>
    </div>
  <% end %>

  <!-- Back or Home Button -->
  <div class="text-center pt-4">
    <a href="/" class="px-6 py-3 bg-gray-800 text-white rounded-xl hover:bg-black transition shadow">
      <i class="lucide lucide-home"></i> Go Home
    </a>
  </div>
</div>
